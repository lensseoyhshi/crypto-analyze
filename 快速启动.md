# ⚡ 快速启动（3 步搞定）

## 🎯 最简单的启动方式

### 方式 1：一键启动脚本（推荐 ⭐）

```bash
# 进入项目目录
cd /Users/shizhenqiang/code/Python/jiaoyi/crypto/crypto-analyze

# 运行启动脚本
./start.sh
```

**就这么简单！** 脚本会自动：
- ✅ 创建虚拟环境
- ✅ 安装依赖
- ✅ 检查/启动 MySQL
- ✅ 创建数据库
- ✅ 运行迁移
- ✅ 创建配置文件
- ✅ 启动应用

### 方式 2：使用 Docker Compose（最简单）

```bash
# 进入项目目录
cd /Users/shizhenqiang/code/Python/jiaoyi/crypto/crypto-analyze

# 一键启动所有服务（包括 MySQL）
docker-compose up --build
```

### 方式 3：手动启动（完全控制）

```bash
# 1. 进入项目目录
cd /Users/shizhenqiang/code/Python/jiaoyi/crypto/crypto-analyze

# 2. 创建虚拟环境（首次）
python3 -m venv venv
source venv/bin/activate

# 3. 安装依赖
pip install -r requirements.txt

# 4. 启动 MySQL（如果还没有）
docker run --name crypto-mysql \
  -e MYSQL_ROOT_PASSWORD=12345678 \
  -e MYSQL_DATABASE=crypto_analyze \
  -p 3306:3306 \
  -d mysql:8.0

# 5. 运行数据库迁移
alembic upgrade head

# 6. 启动应用
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

## 📱 访问应用

启动后，打开浏览器访问：

- **API 文档**: http://localhost:8000/docs
- **健康检查**: http://localhost:8000/health  
- **根路径**: http://localhost:8000/

## 🎉 成功标志

如果看到以下日志，说明启动成功：

```
INFO:     Started server process [xxxxx]
INFO:     Waiting for application startup.
2024-01-09 10:00:00 - app.main - INFO - Starting crypto-analyze
2024-01-09 10:00:00 - app.services.scheduler - INFO - Starting background tasks
2024-01-09 10:00:00 - app.services.scheduler - INFO - Started 5 background tasks
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000
```

## 🔥 后台任务自动运行

启动后，以下任务会自动在后台运行：

| 任务 | 频率 | 说明 |
|------|------|------|
| Dexscreener 采集 | 每 6 秒 | 采集热门代币 |
| 新币上线监控 | 每 60 秒 | 发现新上币 |
| Token 概览 | 每 5 分钟 | 更新价格、流动性等 |
| Top Traders | 每 5 分钟 | 追踪聪明钱包 |
| 钱包持仓 | 每 10 分钟 | 更新配置的钱包持仓 |

## 📊 查看数据

```bash
# 登录数据库
mysql -u root -p12345678 crypto_analyze

# 或使用 Docker MySQL
docker exec -it crypto-mysql mysql -uroot -p12345678 crypto_analyze

# 查看采集的数据
SELECT COUNT(*) FROM dexscreener_token_boosts;
SELECT COUNT(*) FROM birdeye_new_listings;
SELECT * FROM raw_api_responses ORDER BY created_at DESC LIMIT 5;
```

## 🛑 停止应用

- **如果使用启动脚本或 uvicorn**：按 `Ctrl+C`
- **如果使用 Docker Compose**：`docker-compose down`

## ❓ 遇到问题？

查看详细的故障排查：[本地启动指南.md](本地启动指南.md)

常见问题：
- **端口被占用**：`lsof -i :8000` 查找并杀死进程
- **数据库连接失败**：检查 MySQL 是否运行
- **模块导入错误**：确保激活了虚拟环境

## 🎯 下一步

1. ✅ 访问 http://localhost:8000/docs 查看 API 文档
2. ✅ 观察日志，看数据采集情况
3. ✅ 查询数据库，验证数据
4. ✅ 修改 `.env` 配置你的钱包和代币
5. ✅ 开始分析加密货币数据！

---

**更多详细信息，请查看：**
- [本地启动指南.md](本地启动指南.md) - 完整的启动说明
- [README.md](README.md) - 项目概述
- [DATABASE_SCHEMA.md](DATABASE_SCHEMA.md) - 数据库结构

**祝使用愉快！🚀**

